<ng-container *ngIf="isLoggedIn; else loginTpl">

  <div class="flex flex-col min-h-screen">

    <!-- HEADER -->
    <header class="flex items-center justify-between bg-gray-800 px-6 py-3 shadow-lg">
      <div class="text-white font-bold text-xl">CRM</div>

      <div class="flex items-center">
        <input type="text" placeholder="Buscar clientes..." class="px-3 py-1 rounded-l bg-gray-700 text-white focus:outline-none">
        <button class="px-3 py-1 bg-gray-600 rounded-r hover:bg-gray-500 transition">Buscar</button>
      </div>
    </header>

    <div class="flex flex-1">
      <aside class="flex flex-col w-64 bg-gray-900 text-white p-4 gap-3 shadow-lg">
        <a routerLink="/inicio" routerLinkActive="bg-gray-700" class="px-3 py-2 rounded hover:bg-gray-700 transition">Dashboard</a>
        <a routerLink="/clientes" routerLinkActive="bg-gray-700" class="px-3 py-2 rounded hover:bg-gray-700 transition">Clientes</a>
        <a routerLink="/contactos" routerLinkActive="bg-gray-700" class="px-3 py-2 rounded hover:bg-gray-700 transition">Contactos</a>
        <a routerLink="/oportunidades" routerLinkActive="bg-gray-700" class="px-3 py-2 rounded hover:bg-gray-700 transition">Oportunidades</a>
        <a routerLink="/tareas" routerLinkActive="bg-gray-700" class="px-3 py-2 rounded hover:bg-gray-700 transition">Tareas</a>

        <div class="border-t border-gray-600 my-2"></div>
        <button class="px-3 py-2 bg-red-600 rounded hover:bg-red-700 transition" (click)="logout()">Cerrar sesión</button>
      </aside>

      <main class="flex-1 p-6 bg-gray-100">
        <!-- Aquí se cargan los componentes por rutas -->
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>

</ng-container>

<ng-template #loginTpl>
  <app-login (loginSuccess)="handleLogin()"></app-login>
</ng-template>
